<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Tracker - Nitra Mitra</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../../index.css">
    <link rel="stylesheet" href="../../css/team-styles.css">
    <link rel="stylesheet" href="../../css/footer.css">
    <link rel="stylesheet" href="../../css/floating-sidebar.css">
    <link rel="stylesheet" href="../../css/scroll-indicator.css">
    <link rel="stylesheet" href="assignment-tracker.css">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
    <link rel="manifest" href="../../favicon/site.webmanifest">
    <link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#5bbad5">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>

<body id="onload">
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress-container">
        <div class="scroll-progress-bar"></div>
    </div>

    <!-- NAVBAR -->
    <nav>
        <div class="nav-first">
            <button onclick="goBack()" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="logo"><a href="https://www.nitra.ac.in/">NITra <span id="mitra">MITra</span></a></div>
        </div>
        <div class="nav-end">
            <button id="lang-toggle">
                हिंदी
            </button>
            <img src="../../images/moon.png" id="mode" alt="Change mode" title="change mode">
        </div>
    </nav>

    <div class="main">
        <!-- HEADER SECTION -->
        <section class="assignment-header">
            <div class="container">
                <h1 class="service-heading">
                    <i class="fas fa-tasks"></i> Assignment Tracker
                </h1>
                <p class="para">Never miss a deadline again! Track all your assignments, manage deadlines, and stay on top of your academic workload.</p>
                
                <!-- Quick Stats -->
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalAssignments">0</h3>
                            <p>Total Assignments</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="upcomingDeadlines">0</h3>
                            <p>Upcoming Deadlines</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="completedAssignments">0</h3>
                            <p>Completed</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MAIN CONTENT -->
        <section class="assignment-content">
            <div class="container">
                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="showAddAssignmentModal()">
                        <i class="fas fa-plus"></i> Add Assignment
                    </button>
                    <button class="btn btn-outline-secondary" onclick="toggleView('list')">
                        <i class="fas fa-list"></i> List View
                    </button>
                    <button class="btn btn-outline-secondary" onclick="toggleView('calendar')">
                        <i class="fas fa-calendar"></i> Calendar View
                    </button>
                    <button class="btn btn-outline-secondary" onclick="exportAssignments()">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters-container">
                    <div class="row">
                        <div class="col-md-3">
                            <select id="subjectFilter" class="form-select" onchange="filterAssignments()">
                                <option value="">All Subjects</option>
                                <option value="Mathematics">Mathematics</option>
                                <option value="Physics">Physics</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="Computer Science">Computer Science</option>
                                <option value="English">English</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select id="statusFilter" class="form-select" onchange="filterAssignments()">
                                <option value="">All Status</option>
                                <option value="Not Started">Not Started</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Graded">Graded</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select id="priorityFilter" class="form-select" onchange="filterAssignments()">
                                <option value="">All Priorities</option>
                                <option value="High">High Priority</option>
                                <option value="Medium">Medium Priority</option>
                                <option value="Low">Low Priority</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="searchInput" class="form-control" placeholder="Search assignments..." onkeyup="filterAssignments()">
                        </div>
                    </div>
                </div>

                <!-- Assignments List -->
                <div id="assignmentsList" class="assignments-list">
                    <!-- Assignments will be populated here -->
                </div>

                <!-- Calendar View -->
                <div id="calendarView" class="calendar-view" style="display: none;">
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <button class="btn btn-outline-secondary" onclick="previousMonth()">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h3 id="currentMonth"></h3>
                            <button class="btn btn-outline-secondary" onclick="nextMonth()">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div id="calendar" class="calendar-grid">
                            <!-- Calendar will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Add Assignment Modal -->
    <div id="addAssignmentModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-plus"></i> Add New Assignment
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="assignmentForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentTitle" class="form-label">Assignment Title *</label>
                                    <input type="text" class="form-control" id="assignmentTitle" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentSubject" class="form-label">Subject *</label>
                                    <select class="form-select" id="assignmentSubject" required>
                                        <option value="">Select Subject</option>
                                        <option value="Mathematics">Mathematics</option>
                                        <option value="Physics">Physics</option>
                                        <option value="Chemistry">Chemistry</option>
                                        <option value="Computer Science">Computer Science</option>
                                        <option value="English">English</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentDeadline" class="form-label">Deadline *</label>
                                    <input type="datetime-local" class="form-control" id="assignmentDeadline" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentPriority" class="form-label">Priority</label>
                                    <select class="form-select" id="assignmentPriority">
                                        <option value="Medium">Medium</option>
                                        <option value="High">High</option>
                                        <option value="Low">Low</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="assignmentDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="assignmentDescription" rows="3"></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentStatus" class="form-label">Status</label>
                                    <select class="form-select" id="assignmentStatus">
                                        <option value="Not Started">Not Started</option>
                                        <option value="In Progress">In Progress</option>
                                        <option value="Submitted">Submitted</option>
                                        <option value="Graded">Graded</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="assignmentGrade" class="form-label">Grade (if graded)</label>
                                    <input type="text" class="form-control" id="assignmentGrade" placeholder="e.g., A+, 85%">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="assignmentNotes" class="form-label">Notes</label>
                            <textarea class="form-control" id="assignmentNotes" rows="2" placeholder="Additional notes or reminders..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveAssignment()">
                        <i class="fas fa-save"></i> Save Assignment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Assignment Modal -->
    <div id="editAssignmentModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-edit"></i> Edit Assignment
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editAssignmentForm">
                        <input type="hidden" id="editAssignmentId">
                        <!-- Same form fields as add modal -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentTitle" class="form-label">Assignment Title *</label>
                                    <input type="text" class="form-control" id="editAssignmentTitle" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentSubject" class="form-label">Subject *</label>
                                    <select class="form-select" id="editAssignmentSubject" required>
                                        <option value="">Select Subject</option>
                                        <option value="Mathematics">Mathematics</option>
                                        <option value="Physics">Physics</option>
                                        <option value="Chemistry">Chemistry</option>
                                        <option value="Computer Science">Computer Science</option>
                                        <option value="English">English</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentDeadline" class="form-label">Deadline *</label>
                                    <input type="datetime-local" class="form-control" id="editAssignmentDeadline" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentPriority" class="form-label">Priority</label>
                                    <select class="form-select" id="editAssignmentPriority">
                                        <option value="Medium">Medium</option>
                                        <option value="High">High</option>
                                        <option value="Low">Low</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editAssignmentDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="editAssignmentDescription" rows="3"></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentStatus" class="form-label">Status</label>
                                    <select class="form-select" id="editAssignmentStatus">
                                        <option value="Not Started">Not Started</option>
                                        <option value="In Progress">In Progress</option>
                                        <option value="Submitted">Submitted</option>
                                        <option value="Graded">Graded</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editAssignmentGrade" class="form-label">Grade (if graded)</label>
                                    <input type="text" class="form-control" id="editAssignmentGrade" placeholder="e.g., A+, 85%">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editAssignmentNotes" class="form-label">Notes</label>
                            <textarea class="form-control" id="editAssignmentNotes" rows="2" placeholder="Additional notes or reminders..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" onclick="deleteAssignment()">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                    <button type="button" class="btn btn-primary" onclick="updateAssignment()">
                        <i class="fas fa-save"></i> Update Assignment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Team section injected by shared script -->
    <div id="team-section"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../index.js"></script>
    <script src="../../js/sidebar.js"></script>
    <script src="../../js/team-script.js"></script>
    <script src="../../js/scroll-indicator.js"></script>
    <script src="../../js/footer.js"></script>
    <script type="module" src="../js/firebase-config.js"></script>
    <script src="assignment-tracker-firebase.js"></script>
    
    <!-- Google Translate -->
    <div id="google_translate_element" style="display:none;"></div>
    <script src="../../language.js"></script>
</body>

</html>
